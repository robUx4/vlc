--- libdsm/compat/compat.c	2016-06-15 11:39:57.850052200 +0200
+++ libdsm/compat/compat.c.winstore	2016-06-15 11:39:14.182274400 +0200
@@ -1,6 +1,6 @@
 #include "config.h"
 
-#if !defined(HAVE_PIPE) && defined(HAVE__PIPE)
+#if !defined(HAVE_PIPE) && defined(HAVE__PIPE) && !defined(_WIN32)
 
 #include <fcntl.h>
 
--- libdsm/compat/compat.h	2016-06-15 11:39:59.904275800 +0200
+++ libdsm/compat/compat.h.winstore	2016-06-15 11:39:10.082044800 +0200
@@ -62,7 +62,7 @@ char *strndup(const char *str, size_t n)
 # include "queue.h"
 #endif
 
-#if !defined(HAVE_PIPE) && defined(HAVE__PIPE)
+#if !defined(HAVE_PIPE) && defined(HAVE__PIPE) && !defined(_WIN32)
 #define HAVE_PIPE
 int pipe(int fds[2]);
 #endif
